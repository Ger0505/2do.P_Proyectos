#include <stdio.h>
#include <stdlib.h>
#define Arbol struct arbol

Arbol{
	int ID,s;
	char n[15],a1[15],a2[15];
	float calf;
	Arbol*der;
	Arbol*izq;
};

void insertarArbol(Arbol*nuevo);
void inorden(Arbol*r);
Arbol*raiz=NULL;

int main(){
	int I,S;
	char N[15],A1[15],A2[15];
	float ca;
	FILE*regist=fopen("Registros.txt","rb");
	if(regist==NULL){
		perror("Error en el archivo");
		return 0;
	}
	while(!feof(regist)){
		Arbol*nuevo=(Arbol*)malloc(sizeof(Arbol));
		fscanf(regist,"%i",&nuevo->ID);
		fflush(stdin);
		fscanf(regist,"%s",&nuevo->n);
		fscanf(regist,"%s",&nuevo->a1);
		fscanf(regist,"%s",&nuevo->a2);
		fscanf(regist,"%i",&nuevo->s);
		fscanf(regist,"%f",&nuevo->calf);
		printf("%i %s %s %s %i %.1f\n",nuevo->ID,nuevo->n,nuevo->a1,nuevo->a2,nuevo->s,nuevo->calf);
		nuevo->der=NULL;
		nuevo->izq=NULL;
		insertarArbol(nuevo);
	}
	fclose(regist);
	//FILE*arbol=fopen("Tabla.txt","wb");
	//inorden(raiz);
}

void insertarArbol(Arbol*nuevo){
	Arbol*aux=raiz,*ant=NULL;
	while(aux!=NULL){
		ant=aux;
		if(nuevo->ID>aux->ID){
			aux=aux->der;
		}else{
			aux=aux->izq;
		}
	}
	if(ant==NULL){
		printf("its the raiz\n");
		raiz=nuevo;
	}else if(nuevo->ID>ant->ID){
		printf("its the der\n");
		ant->der=nuevo;
	}else{
		ant->izq=nuevo;
	}
	printf("Termino\n");
}

void inorden(Arbol*r){
	if(r!=NULL){
		inorden(r->izq);
		printf("%s ",r->n);
		inorden(r->der);
	}
}
